import{M as k,_ as C}from"./s4NDjzL4.js";import{d as _,r as y,i as f,t as i,C as h,D as x,E as B,F as w,G as D,v as E,B as $,y as g,H as r,I,q as A,J as O,K as R}from"./CZEwGKft.js";import{u as T}from"./Bo1u0Mv1.js";import"./DwnLKNvL.js";const U=_({__name:"ArticleMardownReadonly",props:{contentMd:{}},setup(u){const e=u,s=new k,c=y(e.contentMd);return f(()=>s.render(c.value)),(l,n)=>(i(),h(C,{"content-md":e.contentMd},null,8,["content-md"]))}}),j=_({__name:"[slug]",async setup(u){let e,s;const c=x(),l=c.params.slug,{t:n}=B(),d=A(),v=w();c.query.id;const t=y(null);t.value=v.getArticleBySlug(l);const p=f(()=>{var a;return t.value?(a=t.value)==null?void 0:a.contentMd.slice(0,60):""}),{data:M}=([e,s]=D(()=>O("article",()=>R(l),{server:!0,lazy:!1,key:"articles",cache:!0,maxAge:60*60,staleWhileRevalidate:!0,getCachedData:(a,o)=>{console.log(`Checking cache for key: ${a}`);const S=o.payload.data[a];return console.log("check nuxt app payload: ",o.payload),console.log("check nuxt app static: ",o.payload),console.log("Cache value:",S),m=>o.payload.static[m]||o.payload.data[m]}})),e=await e,s(),e);return T({title:n("SEO.article.title",{text:p.value.slice(0,30)}),description:n("SEO.article.description",{text:t.value.contentMd.slice(0,200)}),ogTitle:n("SEO.article.ogTitle",{text:p.value}),ogDescription:n("SEO.article.ogDescription",{text:t.value.contentMd}),ogUrl:`${d.public.appBaseUrl}${c.fullPath}`,ogImageUrl:`${d.public.appBaseUrl}/images/nico_pro_pp.jpg`,ogImageAlt:""}),(a,o)=>(i(),E("div",null,[$(" slug: "+g(r(l))+" data: "+g(r(M))+" ",1),r(t)?(i(),h(U,{key:0,"content-md":r(t).contentMd},null,8,["content-md"])):I("",!0)]))}});export{j as default};
